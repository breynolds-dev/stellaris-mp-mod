adv_space_engineers = 
{
	icon = "GFX_starbase_adv_space_engineers"
	construction_days = 180
	cost = { minerals = 550 }	
	station_modifier = 
	{ 
		starbase_module_build_speed_mult = 1.50 
		starbase_building_build_speed_mult = 1.50 
		starbase_upgrade_speed_mult = 1.50
	}
	#potential = { always = no }
	upkeep_resources = { energy = 3 }
	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = yes
	ai_weight = { weight = 5 }
}

mining_experts = 
{
	icon = "GFX_starbase_mining_experts"
	construction_days = 220
	cost = { minerals = 220 }
	produced_resources = { minerals = 6 }
	upkeep_resources = { energy = 4 }
	possible = { has_starbase_module = asteroid_mining }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = { weight = 1 }
}

reinforced_defenses = 
{
	icon = "GFX_starbase_reinforced_defenses"
	construction_days = 400
	cost = { minerals = 360 }
	station_modifier = 
	{ 
		ship_shield_add = 6000
		ship_shield_mult = 0.1
		ship_shield_regen_add_perc = 1.0
		ship_armor_add = 5000
		ship_armor_mult = 0.1
		ship_armor_regen_add_perc = 1.0
	}
	potential = { has_starbase_size >= starbase_starport }#not for outposts
	upkeep_resources = { energy = 2 }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = { weight = 50 modifier = { factor = 0.01 has_starbase_size < starbase_starport } }
}

strategic_defenses = 
{
	icon = "GFX_starbase_strategic_defenses"
	construction_days = 650
	cost = { minerals = 360 }
	station_modifier = 
	{ 
		ship_shield_add = 4000
		ship_shield_mult = 0.1
		ship_shield_regen_add_perc = 1.0
		ship_fire_rate_mult = 0.25
	}
	potential = { has_starbase_size >= starbase_starfortress }
	upkeep_resources = { energy = 2 }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = { weight = 50 modifier = { factor = 0.01 has_starbase_size < starbase_starfortress } }
	show_in_tech = "tech_starbase_4"
}

adv_starbase = 
{
	icon = "GFX_starbase_adv_starbase"
	construction_days = 1000
	cost = { minerals = 400 }
	station_modifier = 
	{ 
		ship_armor_add = 6000
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.33
	}
	potential = { has_starbase_size >= starbase_citadel }
	upkeep_resources = { energy = 2 }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = { weight = 50 modifier = { factor = 0.01 has_starbase_size < starbase_citadel } }
	show_in_tech = "tech_starbase_5"
}

orbital_physics_support_lab = 
{
	icon = "GFX_starbase_phy_support"
	construction_days = 300
	cost = { minerals = 300 }
	produced_resources = { physics_research = 5 }
	upkeep_resources = { energy = 4 }
	possible = 
	{ 
		has_starbase_module = orbital_lab 
		NOR =
		{
			has_starbase_building = orbital_society_support_lab 
			has_starbase_building = orbital_engineering_support_lab 
		}
		exists = owner owner = { has_technology = tech_physics_lab_2 } 
	}
	system_modifier = { tile_resource_physics_research_mult = 0.10 }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = 
	{
		weight = 50 
		modifier = { factor = 0 NOT = { has_starbase_module = orbital_lab } }
		modifier = { factor = 0 OR = { has_starbase_building = orbital_society_support_lab has_starbase_building = orbital_engineering_support_lab } }
	}
	show_in_tech = "tech_physics_lab_2"
}

orbital_society_support_lab = 
{
	icon = "GFX_starbase_soc_support"
	construction_days = 300
	cost = { minerals = 300 }
	produced_resources = { society_research = 5 }
	upkeep_resources = { energy = 4 }
	possible = 
	{ 
		has_starbase_module = orbital_lab 
		NOR =
		{
			has_starbase_building = orbital_physics_support_lab 
			has_starbase_building = orbital_engineering_support_lab 
		}
		exists = owner owner = { has_technology = tech_biolab_2 } 
	}
	system_modifier = { tile_resource_society_research_mult = 0.10 }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = 
	{
		weight = 50 
		modifier = { factor = 0 NOT = { has_starbase_module = orbital_lab } }
		modifier = { factor = 0 OR = { has_starbase_building = orbital_physics_support_lab has_starbase_building = orbital_engineering_support_lab } }
	}
	show_in_tech = "tech_biolab_2"
}

orbital_engineering_support_lab = 
{
	icon = "GFX_starbase_eng_support"
	construction_days = 300
	cost = { minerals = 300 }
	produced_resources = { engineering_research = 5 }
	upkeep_resources = { energy = 4 }
	possible = 
	{ 
		has_starbase_module = orbital_lab 
		NOR =
		{
			has_starbase_building = orbital_society_support_lab 
			has_starbase_building = orbital_physics_support_lab 
		}
		exists = owner owner = { has_technology = tech_engineering_lab_2 } 
	}
	system_modifier = { tile_resource_engineering_research_mult = 0.10 }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = 
	{
		weight = 50 
		modifier = { factor = 0 NOT = { has_starbase_module = orbital_lab } }
		modifier = { factor = 0 OR = { has_starbase_building = orbital_physics_support_lab has_starbase_building = orbital_society_support_lab } }
	}
	show_in_tech = "tech_engineering_lab_2"
}

navy_expert_sector = 
{
	icon = "GFX_starbase_orbital_engineering"
	construction_days = 500
	cost = { minerals = 500 }
	station_modifier = 
	{
		starbase_module_build_cost_mult = -0.20
		starbase_building_build_cost_mult = -0.20
		starbase_shipyard_build_cost_mult = -0.20
	}
	produced_resources = { engineering_research = 4 }
	upkeep_resources = { energy = 4 }
	potential = 
	{ 
		has_starbase_size >= starbase_starfortress
		exists = owner owner = { has_technology = tech_engineering_lab_3 } 
	}
	possible = { has_starbase_building = orbital_engineering_support_lab  }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = 
	{
		weight = 100
		modifier = { factor = 0.01 has_starbase_size < starbase_starfortress }
		modifier = { factor = 0.01 NOT = { exists = owner owner = { has_technology = tech_engineering_lab_3 } } }
	}
	show_in_tech = "tech_engineering_lab_3"
}

repair_module = 
{
	icon = "GFX_starbase_repair_module"
	construction_days = 300
	cost = { minerals = 120 }
	orbit_modifier = 
	{
		ship_shield_regen_add_perc = 3.0
		ship_hull_regen_add_perc = 2.0
		ship_armor_regen_add_perc = 1.0
	}
	upkeep_resources = { energy = 3 }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = { weight = 100 }
}

advanced_military_program = 
{
	icon = "GFX_starbase_security_force"
	construction_days = 550
	cost = { minerals = 1000 }
	produced_resources = { society_research = 6 }
	system_modifier = { planet_army_build_speed_mult = 1.0 planet_unrest_mult = -0.15 pop_government_ethic_attraction = 0.25 }
	upkeep_resources = { energy = 4 }
	potential = { solar_system = { any_planet = { is_owned_by = from } } }
	possible = { has_starbase_building = orbital_society_support_lab }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = { weight = 50 modifier = { factor = 0.01 solar_system = { any_planet = { is_owned_by = from } } } }
	show_in_tech = "tech_interstellar_fleet_traditions"
}

adv_assembly_yard = 
{
	icon = "GFX_starbase_adv_assembly_yard"
	construction_days = 480
	cost = { minerals = 480 }
	station_modifier = 
	{ 
		starbase_shipyard_capacity_add = 2
		starbase_shipyard_build_speed_mult = 0.85
	}
	upkeep_resources = { energy = 3 }
	potential = 
	{ 
		has_starbase_module = shipyard 
		has_starbase_size >= starbase_starhold
	}
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = { weight = 50 modifier = { factor = 0.01 NOT = { has_starbase_module = shipyard has_starbase_size >= starbase_starhold } } }
}

experienced_crews = 
{
	icon = "GFX_starbase_experienced_crew"
	construction_days = 420
	cost = { minerals = 600 }
	ship_modifier = 
	{ 
		ship_experience_gain_mult = 1.0
	}
	upkeep_resources = { energy = 2 }
	potential = { exists = owner owner = { has_technology = tech_interstellar_fleet_traditions } }
	possible = { has_starbase_building = fleet_academy }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = { weight = 50 modifier = { factor = 0.01 NOT = { has_starbase_module = shipyard exists = owner owner = { has_technology = tech_interstellar_fleet_traditions } } } }
	show_in_tech = "tech_interstellar_fleet_traditions"
}

navy_veteran = 
{
	icon = "GFX_starbase_navy_veteran"
	construction_days = 420
	cost = { minerals = 600 }
	ship_modifier = 
	{ 
		ship_fire_rate_mult = 0.07
		ship_evasion_mult = 0.20
	}
	upkeep_resources = { energy = 2 }
	potential = { exists = owner owner = { has_technology = tech_interstellar_fleet_traditions } }
	possible = { has_starbase_building = fleet_academy }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = { weight = 50 modifier = { factor = 0.01 NOT = { has_starbase_module = shipyard exists = owner owner = { has_technology = tech_interstellar_fleet_traditions } } } }
	show_in_tech = "tech_interstellar_fleet_traditions"
}

tile_blocker_cleaner = 
{
	icon = "GFX_starbase_tile_blocker_cleaner"
	construction_days = 200
	cost = { minerals = 240 }
	system_modifier = { planet_clear_blocker_cost_mult = -0.33 planet_clear_blocker_time_mult = -0.44 }
	upkeep_resources = { energy = 4 }
	potential = { solar_system = { any_planet = { is_owned_by = from } } }
	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes	
	ai_weight = { weight = 50 modifier = { factor = 0.01 solar_system = { any_planet = { is_owned_by = from } } } }
}